"use strict";var __extends=function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])})(t,o)};return function(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}();!function(t){"object"==typeof module&&"object"==typeof module.exports?t(require,exports):"function"==typeof define&&define.amd&&define(["require","exports","../logging"],t)}(function(t,o){Object.defineProperty(o,"__esModule",{value:!0}),o.CriticalError=o.LoggedError=o.criticalCallback=o.errorCallback=o.warningCallback=o.infoCallback=o.debugCallback=o.allCallback=o.loggedCallback=void 0;var e=t("../logging");function r(t,o,r){r||(r=o,o=e.LOGGER_LEVELS.INFO),(0,e.getLogger)().report(t instanceof Error?t:new l(t),o,this&&"loggedCallback"!==this.name?this:void 0),r(t)}o.loggedCallback=r,o.allCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.ALL,o)},o.debugCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.DEBUG,o)},o.infoCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.INFO,o)},o.warningCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.WARN,o)},o.errorCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.ERROR,o)},o.criticalCallback=function(t,o){r.call(this,t,e.LOGGER_LEVELS.CRITICAL,o)};n=Error,__extends(a,n);var n,l=a;function a(t,o){void 0===o&&(o=e.LOGGER_LEVELS.ERROR);var r=n.call(this,t instanceof Error?t.message:t)||this;return r.logged=!1,r.logged=t instanceof a&&t.logged,r.logged||(0,e.getLogger)().report(t,o),r}o.LoggedError=l;__extends(i,c=l);var c,t=i;function i(t){return c.call(this,t,e.LOGGER_LEVELS.CRITICAL)||this}o.CriticalError=t});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy9lcnJvcnMuanMiLCJlcnJvcnMvZXJyb3JzLnRzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsImV4dGVuZFN0YXRpY3MiLCJkIiwiYiIsIl9fcHJvdG9fXyIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJwIiwiVHlwZUVycm9yIiwiU3RyaW5nIiwiX18iLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJmYWN0b3J5IiwibW9kdWxlIiwiZXhwb3J0cyIsInJlcXVpcmUiLCJkZWZpbmUiLCJhbWQiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiZXJyb3JDYWxsYmFjayIsIndhcm5pbmdDYWxsYmFjayIsImluZm9DYWxsYmFjayIsImRlYnVnQ2FsbGJhY2siLCJhbGxDYWxsYmFjayIsImxvZ2dlZENhbGxiYWNrIiwibG9nZ2luZ18xIiwibWVzc2FnZSIsImxldmVsIiwiY2FsbGJhY2siLCJMT0dHRVJfTEVWRUxTIiwiSU5GTyIsImdldExvZ2dlciIsInJlcG9ydCIsIkVycm9yIiwiTG9nZ2VkRXJyb3IiLCJuYW1lIiwidW5kZWZpbmVkIiwiQUxMIiwiREVCVUciLCJXQVJOIiwiRVJST1IiLCJjcml0aWNhbENhbGxiYWNrIiwiQ1JJVElDQUwiLCJfc3VwZXIiLCJlcnJvciIsIl90aGlzIiwibG9nZ2VkIiwiQ3JpdGljYWxFcnJvciJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBSUEsVUFBeUMsV0FDekMsSUFBSUMsRUFBZ0IsU0FBVUMsRUFBR0MsR0FFdEJDLE9BSFhKLEVBQWFLLE9BQVFDLGdCQUNqQkwsQ0FBQUEsVUFBZ0IsY0FBQU0sT0FBQSxTQUFnQkwsRUFBQUMsR0FBQUQsRUFBQUUsVUFBQUQsSUFDaENGLFNBQWdCSSxFQUFBQSxHQUFPQyxJQUFBQSxJQUFBQSxLQUFQSCxFQUNYRSxPQUFBRyxVQUFBQyxlQUFBQyxLQUFBUCxFQUFBUSxLQUFBVCxFQUFBUyxH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cm9ycy5taW4uZXNtLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgfTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xufSkoKTtcbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUuZXhwb3J0cyA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICB2YXIgdiA9IGZhY3RvcnkocmVxdWlyZSwgZXhwb3J0cyk7XG4gICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIG1vZHVsZS5leHBvcnRzID0gdjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFtcInJlcXVpcmVcIiwgXCJleHBvcnRzXCIsIFwiLi4vbG9nZ2luZ1wiXSwgZmFjdG9yeSk7XG4gICAgfVxufSkoZnVuY3Rpb24gKHJlcXVpcmUsIGV4cG9ydHMpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG4gICAgZXhwb3J0cy5Dcml0aWNhbEVycm9yID0gZXhwb3J0cy5Mb2dnZWRFcnJvciA9IGV4cG9ydHMuY3JpdGljYWxDYWxsYmFjayA9IGV4cG9ydHMuZXJyb3JDYWxsYmFjayA9IGV4cG9ydHMud2FybmluZ0NhbGxiYWNrID0gZXhwb3J0cy5pbmZvQ2FsbGJhY2sgPSBleHBvcnRzLmRlYnVnQ2FsbGJhY2sgPSBleHBvcnRzLmFsbENhbGxiYWNrID0gZXhwb3J0cy5sb2dnZWRDYWxsYmFjayA9IHZvaWQgMDtcbiAgICB2YXIgbG9nZ2luZ18xID0gcmVxdWlyZShcIi4uL2xvZ2dpbmdcIik7XG4gICAgZnVuY3Rpb24gbG9nZ2VkQ2FsbGJhY2sobWVzc2FnZSwgbGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gbGV2ZWw7XG4gICAgICAgICAgICBsZXZlbCA9IGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLklORk87XG4gICAgICAgIH1cbiAgICAgICAgKDAsIGxvZ2dpbmdfMS5nZXRMb2dnZXIpKCkucmVwb3J0KG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgTG9nZ2VkRXJyb3IobWVzc2FnZSksIGxldmVsLCB0aGlzICYmIHRoaXMubmFtZSAhPT0gXCJsb2dnZWRDYWxsYmFja1wiID8gdGhpcyA6IHVuZGVmaW5lZCk7XG4gICAgICAgIGNhbGxiYWNrKG1lc3NhZ2UpO1xuICAgIH1cbiAgICBleHBvcnRzLmxvZ2dlZENhbGxiYWNrID0gbG9nZ2VkQ2FsbGJhY2s7XG4gICAgZnVuY3Rpb24gYWxsQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5BTEwsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZXhwb3J0cy5hbGxDYWxsYmFjayA9IGFsbENhbGxiYWNrO1xuICAgIGZ1bmN0aW9uIGRlYnVnQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICAgICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5ERUJVRywgY2FsbGJhY2spO1xuICAgIH1cbiAgICBleHBvcnRzLmRlYnVnQ2FsbGJhY2sgPSBkZWJ1Z0NhbGxiYWNrO1xuICAgIGZ1bmN0aW9uIGluZm9DYWxsYmFjayhtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgICAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLklORk8sIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZXhwb3J0cy5pbmZvQ2FsbGJhY2sgPSBpbmZvQ2FsbGJhY2s7XG4gICAgZnVuY3Rpb24gd2FybmluZ0NhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuV0FSTiwgY2FsbGJhY2spO1xuICAgIH1cbiAgICBleHBvcnRzLndhcm5pbmdDYWxsYmFjayA9IHdhcm5pbmdDYWxsYmFjaztcbiAgICBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuRVJST1IsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZXhwb3J0cy5lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjaztcbiAgICBmdW5jdGlvbiBjcml0aWNhbENhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuQ1JJVElDQUwsIGNhbGxiYWNrKTtcbiAgICB9XG4gICAgZXhwb3J0cy5jcml0aWNhbENhbGxiYWNrID0gY3JpdGljYWxDYWxsYmFjaztcbiAgICB2YXIgTG9nZ2VkRXJyb3IgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgICAgICBfX2V4dGVuZHMoTG9nZ2VkRXJyb3IsIF9zdXBlcik7XG4gICAgICAgIGZ1bmN0aW9uIExvZ2dlZEVycm9yKGVycm9yLCBsZXZlbCkge1xuICAgICAgICAgICAgaWYgKGxldmVsID09PSB2b2lkIDApIHsgbGV2ZWwgPSBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5FUlJPUjsgfVxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvcikgfHwgdGhpcztcbiAgICAgICAgICAgIF90aGlzLmxvZ2dlZCA9IGZhbHNlO1xuICAgICAgICAgICAgX3RoaXMubG9nZ2VkID0gZXJyb3IgaW5zdGFuY2VvZiBMb2dnZWRFcnJvciAmJiBlcnJvci5sb2dnZWQ7XG4gICAgICAgICAgICBpZiAoIV90aGlzLmxvZ2dlZClcbiAgICAgICAgICAgICAgICAoMCwgbG9nZ2luZ18xLmdldExvZ2dlcikoKS5yZXBvcnQoZXJyb3IsIGxldmVsKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTG9nZ2VkRXJyb3I7XG4gICAgfShFcnJvcikpO1xuICAgIGV4cG9ydHMuTG9nZ2VkRXJyb3IgPSBMb2dnZWRFcnJvcjtcbiAgICB2YXIgQ3JpdGljYWxFcnJvciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgICAgIF9fZXh0ZW5kcyhDcml0aWNhbEVycm9yLCBfc3VwZXIpO1xuICAgICAgICBmdW5jdGlvbiBDcml0aWNhbEVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZXJyb3IsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLkNSSVRJQ0FMKSB8fCB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDcml0aWNhbEVycm9yO1xuICAgIH0oTG9nZ2VkRXJyb3IpKTtcbiAgICBleHBvcnRzLkNyaXRpY2FsRXJyb3IgPSBDcml0aWNhbEVycm9yO1xufSk7IiwiaW1wb3J0IHtDYWxsYmFjaywgZ2V0TG9nZ2VyLCBMT0dHRVJfTEVWRUxTLCBMb2dnZXJNZXNzYWdlfSBmcm9tIFwiLi4vbG9nZ2luZ1wiO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICogQHBhcmFtIHtudW1iZXJ9IGxldmVsXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBsb2dnZWRDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbG9nZ2VkQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBsZXZlbDogbnVtYmVyIHwgQ2FsbGJhY2ssIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgaWYgKCFjYWxsYmFjayl7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY2FsbGJhY2sgPSBsZXZlbDtcbiAgICAgICAgbGV2ZWwgPSBMT0dHRVJfTEVWRUxTLklORk87XG4gICAgfVxuXG4gICAgZ2V0TG9nZ2VyKCkucmVwb3J0KG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciA/IG1lc3NhZ2UgOiBuZXcgTG9nZ2VkRXJyb3IobWVzc2FnZSksIGxldmVsIGFzIG51bWJlcix0aGlzICYmIHRoaXMubmFtZSAhPT0gXCJsb2dnZWRDYWxsYmFja1wiID8gdGhpcyA6IHVuZGVmaW5lZCk7XG4gICAgY2FsbGJhY2sobWVzc2FnZSk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gYWxsQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFsbENhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuQUxMLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gZGVidWdDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZGVidWdDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLkRFQlVHLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gaW5mb0NhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbmZvQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5JTkZPLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gd2FybmluZ0NhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB3YXJuaW5nQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5XQVJOLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gZXJyb3JDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLkVSUk9SLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICogQHBhcmFtIHtDYWxsYmFja30gY2FsbGJhY2tcbiAqXG4gKiBAZnVuY3Rpb24gY3JpdGljYWxDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gY3JpdGljYWxDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLkNSSVRJQ0FMLCBjYWxsYmFjayk7XG59XG5cbi8qKlxuICogV3JhcHBlciBDbGFzcyBmb3IgTG9nZ2VkIEVycm9yc1xuICpcbiAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gZXJyb3JcbiAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCBkZWZhdWx0cyB0byB7QGxpbmsgTE9HR0VSX0xFVkVMUy5FUlJPUn1cbiAqXG4gKiBAY2xhc3MgTG9nZ2VkRXJyb3JcbiAqIEBleHRlbmRzIEVycm9yXG4gKlxuICovXG5leHBvcnQgY2xhc3MgTG9nZ2VkRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgLyoqXG4gICAgICogQHByb3BlcnR5IGxvZ2dlZFxuICAgICAqL1xuICAgIGxvZ2dlZCA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoZXJyb3I6IExvZ2dlck1lc3NhZ2UsIGxldmVsOiBudW1iZXIgPSBMT0dHRVJfTEVWRUxTLkVSUk9SKSB7XG4gICAgICAgIHN1cGVyKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogZXJyb3IpO1xuICAgICAgICB0aGlzLmxvZ2dlZCA9IGVycm9yIGluc3RhbmNlb2YgTG9nZ2VkRXJyb3IgJiYgZXJyb3IubG9nZ2VkO1xuICAgICAgICBpZiAoIXRoaXMubG9nZ2VkKVxuICAgICAgICAgICAgZ2V0TG9nZ2VyKCkucmVwb3J0KGVycm9yLCBsZXZlbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFdyYXBwZXIgQ2xhc3MgZm9yIENyaXRpY2FsIEVycm9yc1xuICpcbiAqIEBjbGFzcyBDcml0aWNhbEVycm9yXG4gKiBAZXh0ZW5kcyBMb2dnZWRFcnJvclxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIENyaXRpY2FsRXJyb3IgZXh0ZW5kcyBMb2dnZWRFcnJvcntcbiAgICBjb25zdHJ1Y3RvcihlcnJvcjogTG9nZ2VyTWVzc2FnZSkge1xuICAgICAgICBzdXBlcihlcnJvciwgTE9HR0VSX0xFVkVMUy5DUklUSUNBTCk7XG4gICAgfVxufSJdfQ==
