"use strict";var __extends=this&&this.__extends||function(){var a=function(l,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(l[o]=r[o])})(l,r)};return function(l,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=l}a(l,r),l.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),logging_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CriticalError=exports.LoggedError=exports.criticalCallback=exports.errorCallback=exports.warningCallback=exports.infoCallback=exports.debugCallback=exports.allCallback=exports.loggedCallback=void 0,require("../logging"));function loggedCallback(l,r,o){o||(o=r,r=logging_1.LOGGER_LEVELS.INFO),(0,logging_1.getLogger)().report(l instanceof Error?l:new LoggedError(l),r,"loggedCallback"!==this.name?this:void 0),o(l)}function allCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.ALL,r)}function debugCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.DEBUG,r)}function infoCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.INFO,r)}function warningCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.WARN,r)}function errorCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.ERROR,r)}function criticalCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.CRITICAL,r)}exports.loggedCallback=loggedCallback,exports.allCallback=allCallback,exports.debugCallback=debugCallback,exports.infoCallback=infoCallback,exports.warningCallback=warningCallback,exports.errorCallback=errorCallback,exports.criticalCallback=criticalCallback;var LoggedError=function(a){function t(l,r){void 0===r&&(r=logging_1.LOGGER_LEVELS.ERROR);var o=a.call(this,l instanceof Error?l.message:l)||this;return o.logged=!1,o.logged=l instanceof t&&l.logged,o.logged||(0,logging_1.getLogger)().report(l,r),o}return __extends(t,a),t}(Error),CriticalError=function(r){function l(l){return r.call(this,l,logging_1.LOGGER_LEVELS.CRITICAL)||this}return __extends(l,r),l}(exports.LoggedError=LoggedError);exports.CriticalError=CriticalError;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy9lcnJvcnMuanMiLCJlcnJvcnMvZXJyb3JzLnRzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJleHRlbmRTdGF0aWNzIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJBcnJheSIsImQiLCJiIiwiX19wcm90b19fIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX18iLCJsb2dnaW5nXzEiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkxvZ2dlZEVycm9yIiwiY3JpdGljYWxDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJ3YXJuaW5nQ2FsbGJhY2siLCJpbmZvQ2FsbGJhY2siLCJkZWJ1Z0NhbGxiYWNrIiwiYWxsQ2FsbGJhY2siLCJsb2dnZWRDYWxsYmFjayIsInJlcXVpcmUiLCJtZXNzYWdlIiwibGV2ZWwiLCJjYWxsYmFjayIsIkxPR0dFUl9MRVZFTFMiLCJJTkZPIiwiZ2V0TG9nZ2VyIiwicmVwb3J0IiwiRXJyb3IiLCJuYW1lIiwidW5kZWZpbmVkIiwiQUxMIiwiREVCVUciLCJXQVJOIiwiRVJST1IiLCJDUklUSUNBTCIsIl9zdXBlciIsImVycm9yIiwiX3RoaXMiLCJsb2dnZWQiLCJDcml0aWNhbEVycm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFJQSxVQUFhQyxNQUFRQSxLQUFLRCxXQUFlLFdBQXpDQSxJQUFBQSxFQUFxQixTQUFLQSxFQUFBQSxHQUdqQixPQUZMRSxFQUFnQkMsT0FBQUMsZ0JBQ2hCRixDQUFBQSxVQUFzQixjQUFORyxPQUNYLFNBQUFDLEVBQUFDLEdBQUFELEVBQUFFLFVBQUFELElBQUVDLFNBQVdGLEVBQUFDLEdBQUEsSUFBQSxJQUFBRSxLQUFBRixFQUFBSixPQUFBTyxVQUFBQyxlQUFBQyxLQUFBTCxFQUFBRSxLQUFBSCxFQUFBRyxHQUFBRixFQUFBRSxNQUF5QkgsRUFBQUMsSUFBb0MsT0FDM0UsU0FBQUQsRUFBQUMsR0FBa0IsR0FBaUIsbUJBQWpCQSxHQUFzQ0ksT0FBVkQsRUFGbEQsTUFBQSxJQUFBRyxVQUFBLHVCQUFBQyxPQUFBUCxHQUFBLGlDQUdBLFNBQU9MLElBQWFELEtBQUFjLFlBQXBCVCxFQUtBSixFQUFjSSxFQUFHQyxHQVRyQkQsRUFBQUksVUFBQSxPQUFBSCxFQUFBSixPQUFBYSxPQUFBVCxJQUFBVSxFQUFBUCxVQUFBSCxFQUFBRyxVQUFBLElBQUFPLElBRHlDLEdDRDdDQyxXRFNRZixPQUFBZ0IsZUFBaUJDLFFBQWIsYUFBSixDQUNJQyxPQUFNLElBQ1ZuQixRQUFBQSxjQUFBa0IsUUFBQUUsWUFBQUYsUUFBQUcsaUJBQUFILFFBQUFJLGNBQUFKLFFBQUFLLGdCQUFBTCxRQUFBTSxhQUFBTixRQUFBTyxjQUFBUCxRQUFBUSxZQUFBUixRQUFBUyxvQkFBQSxFQ1hSQyxRQUFBLGVBWUEsU0FBZ0JELGVBQTBCRSxFQUF3QkMsRUFBMEJDLEdBQ25GQSxJQUVEQSxFQUFXRCxFQUNYQSxFQUFRZCxVQUFBZ0IsY0FBY0MsT0FHMUIsRUFBQWpCLFVBQUFrQixhQUFZQyxPQUFPTixhQUFtQk8sTUFBUVAsRUFBVSxJQUFJVCxZQUFZUyxHQUFVQyxFQUErQixtQkFBZC9CLEtBQUtzQyxLQUE0QnRDLFVBQU91QyxHQUMzSVAsRUFBU0YsR0FZYixTQUFnQkgsWUFBdUJHLEVBQXdCRSxHQUMzREosZUFBZWpCLEtBQUtYLEtBQU04QixFQUFTYixVQUFBZ0IsY0FBY08sSUFBS1IsR0FZMUQsU0FBZ0JOLGNBQXlCSSxFQUF3QkUsR0FDN0RKLGVBQWVqQixLQUFLWCxLQUFNOEIsRUFBU2IsVUFBQWdCLGNBQWNRLE1BQU9ULEdBWTVELFNBQWdCUCxhQUF3QkssRUFBd0JFLEdBQzVESixlQUFlakIsS0FBS1gsS0FBTThCLEVBQVNiLFVBQUFnQixjQUFjQyxLQUFNRixHQVkzRCxTQUFnQlIsZ0JBQTJCTSxFQUF3QkUsR0FDL0RKLGVBQWVqQixLQUFLWCxLQUFNOEIsRUFBU2IsVUFBQWdCLGNBQWNTLEtBQU1WLEdBWTNELFNBQWdCVCxjQUF5Qk8sRUFBd0JFLEdBQzdESixlQUFlakIsS0FBS1gsS0FBTThCLEVBQVNiLFVBQUFnQixjQUFjVSxNQUFPWCxHQVk1RCxTQUFnQlYsaUJBQTRCUSxFQUF3QkUsR0FDaEVKLGVBQWVqQixLQUFLWCxLQUFNOEIsRUFBU2IsVUFBQWdCLGNBQWNXLFNBQVVaLEdBdEYvRGIsUUFBQVMsZUFBQUEsZUFvQkFULFFBQUFRLFlBQUFBLFlBYUFSLFFBQUFPLGNBQUFBLGNBYUFQLFFBQUFNLGFBQUFBLGFBYUFOLFFBQUFLLGdCQUFBQSxnQkFhQUwsUUFBQUksY0FBQUEsY0FhQUosUUFBQUcsaUJBQUFBLGlCQWNBLElBQUFELFlBQUEsU0FBQXdCLEdBTUksU0FBQXhCLEVBQVl5QixFQUFzQmYsUUFBQSxJQUFBQSxJQUFBQSxFQUFnQmQsVUFBQWdCLGNBQWNVLE9BQWhFLElBQUFJLEVBQ0lGLEVBQUFsQyxLQUFBWCxLQUFNOEMsYUFBaUJULE1BQVFTLEVBQU1oQixRQUFVZ0IsSUFBTTlDLEtEekRyRCxPQ3NESitDLEVBQUFDLFFBQVMsRUFJTEQsRUFBS0MsT0FBU0YsYUFBaUJ6QixHQUFleUIsRUFBTUUsT0FDL0NELEVBQUtDLFNBQ04sRUFBQS9CLFVBQUFrQixhQUFZQyxPQUFPVSxFQUFPZixHRDVEdkJnQixFQzhEZixPQVppQ2hELFVBQUFzQixFQUFBd0IsR0FZakN4QixFQVpBLENBQWlDZ0IsT0FxQmpDWSxjQUFBLFNBQUFKLEdBQ0ksU0FBQUksRUFBWUgsR0RoRVIsT0NpRUFELEVBQUFsQyxLQUFBWCxLQUFNOEMsRUFBTzdCLFVBQUFnQixjQUFjVyxXQUFTNUMsS0FFNUMsT0FKbUNELFVBQUFrRCxFQUFBSixHQUluQ0ksRUFKQSxDQXJCYTlCLFFBQUFFLFlBQUFBLGFBcUJBRixRQUFBOEIsY0FBQUEiLCJmaWxlIjoiZXJyb3JzL2Vycm9ycy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcbiAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XG4gICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgYiAhPT0gXCJmdW5jdGlvblwiICYmIGIgIT09IG51bGwpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhiKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XG4gICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG4gICAgfTtcbn0pKCk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkNyaXRpY2FsRXJyb3IgPSBleHBvcnRzLkxvZ2dlZEVycm9yID0gZXhwb3J0cy5jcml0aWNhbENhbGxiYWNrID0gZXhwb3J0cy5lcnJvckNhbGxiYWNrID0gZXhwb3J0cy53YXJuaW5nQ2FsbGJhY2sgPSBleHBvcnRzLmluZm9DYWxsYmFjayA9IGV4cG9ydHMuZGVidWdDYWxsYmFjayA9IGV4cG9ydHMuYWxsQ2FsbGJhY2sgPSBleHBvcnRzLmxvZ2dlZENhbGxiYWNrID0gdm9pZCAwO1xudmFyIGxvZ2dpbmdfMSA9IHJlcXVpcmUoXCIuLi9sb2dnaW5nXCIpO1xuZnVuY3Rpb24gbG9nZ2VkQ2FsbGJhY2sobWVzc2FnZSwgbGV2ZWwsIGNhbGxiYWNrKSB7XG4gICAgaWYgKCFjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayA9IGxldmVsO1xuICAgICAgICBsZXZlbCA9IGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLklORk87XG4gICAgfVxuICAgICgwLCBsb2dnaW5nXzEuZ2V0TG9nZ2VyKSgpLnJlcG9ydChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IgPyBtZXNzYWdlIDogbmV3IExvZ2dlZEVycm9yKG1lc3NhZ2UpLCBsZXZlbCwgdGhpcy5uYW1lICE9PSBcImxvZ2dlZENhbGxiYWNrXCIgPyB0aGlzIDogdW5kZWZpbmVkKTtcbiAgICBjYWxsYmFjayhtZXNzYWdlKTtcbn1cbmV4cG9ydHMubG9nZ2VkQ2FsbGJhY2sgPSBsb2dnZWRDYWxsYmFjaztcbmZ1bmN0aW9uIGFsbENhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5BTEwsIGNhbGxiYWNrKTtcbn1cbmV4cG9ydHMuYWxsQ2FsbGJhY2sgPSBhbGxDYWxsYmFjaztcbmZ1bmN0aW9uIGRlYnVnQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLkRFQlVHLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmRlYnVnQ2FsbGJhY2sgPSBkZWJ1Z0NhbGxiYWNrO1xuZnVuY3Rpb24gaW5mb0NhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5JTkZPLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmluZm9DYWxsYmFjayA9IGluZm9DYWxsYmFjaztcbmZ1bmN0aW9uIHdhcm5pbmdDYWxsYmFjayhtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuV0FSTiwgY2FsbGJhY2spO1xufVxuZXhwb3J0cy53YXJuaW5nQ2FsbGJhY2sgPSB3YXJuaW5nQ2FsbGJhY2s7XG5mdW5jdGlvbiBlcnJvckNhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5FUlJPUiwgY2FsbGJhY2spO1xufVxuZXhwb3J0cy5lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjaztcbmZ1bmN0aW9uIGNyaXRpY2FsQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLkNSSVRJQ0FMLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmNyaXRpY2FsQ2FsbGJhY2sgPSBjcml0aWNhbENhbGxiYWNrO1xudmFyIExvZ2dlZEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTG9nZ2VkRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9nZ2VkRXJyb3IoZXJyb3IsIGxldmVsKSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuRVJST1I7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxvZ2dlZCA9IGVycm9yIGluc3RhbmNlb2YgTG9nZ2VkRXJyb3IgJiYgZXJyb3IubG9nZ2VkO1xuICAgICAgICBpZiAoIV90aGlzLmxvZ2dlZClcbiAgICAgICAgICAgICgwLCBsb2dnaW5nXzEuZ2V0TG9nZ2VyKSgpLnJlcG9ydChlcnJvciwgbGV2ZWwpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBMb2dnZWRFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuTG9nZ2VkRXJyb3IgPSBMb2dnZWRFcnJvcjtcbnZhciBDcml0aWNhbEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ3JpdGljYWxFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDcml0aWNhbEVycm9yKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBlcnJvciwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuQ1JJVElDQUwpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBDcml0aWNhbEVycm9yO1xufShMb2dnZWRFcnJvcikpO1xuZXhwb3J0cy5Dcml0aWNhbEVycm9yID0gQ3JpdGljYWxFcnJvcjsiLCJpbXBvcnQge0NhbGxiYWNrLCBnZXRMb2dnZXIsIExPR0dFUl9MRVZFTFMsIExvZ2dlck1lc3NhZ2V9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gbGV2ZWxcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGxvZ2dlZENhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dnZWRDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGxldmVsOiBudW1iZXIgfCBDYWxsYmFjaywgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBpZiAoIWNhbGxiYWNrKXtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjYWxsYmFjayA9IGxldmVsO1xuICAgICAgICBsZXZlbCA9IExPR0dFUl9MRVZFTFMuSU5GTztcbiAgICB9XG5cbiAgICBnZXRMb2dnZXIoKS5yZXBvcnQobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZSA6IG5ldyBMb2dnZWRFcnJvcihtZXNzYWdlKSwgbGV2ZWwgYXMgbnVtYmVyLCB0aGlzLm5hbWUgIT09IFwibG9nZ2VkQ2FsbGJhY2tcIiA/IHRoaXMgOiB1bmRlZmluZWQpO1xuICAgIGNhbGxiYWNrKG1lc3NhZ2UpO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGFsbENhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhbGxDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLkFMTCwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGRlYnVnQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5ERUJVRywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGluZm9DYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gaW5mb0NhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuSU5GTywgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIHdhcm5pbmdDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gd2FybmluZ0NhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuV0FSTiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVycm9yQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5FUlJPUiwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGNyaXRpY2FsQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyaXRpY2FsQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5DUklUSUNBTCwgY2FsbGJhY2spO1xufVxuXG4vKipcbiAqIFdyYXBwZXIgQ2xhc3MgZm9yIExvZ2dlZCBFcnJvcnNcbiAqXG4gKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IGVycm9yXG4gKiBAcGFyYW0ge251bWJlcn0gbGV2ZWwgZGVmYXVsdHMgdG8ge0BsaW5rIExPR0dFUl9MRVZFTFMuRVJST1J9XG4gKlxuICogQGNsYXNzIExvZ2dlZEVycm9yXG4gKiBAZXh0ZW5kcyBFcnJvclxuICpcbiAqL1xuZXhwb3J0IGNsYXNzIExvZ2dlZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEBwcm9wZXJ0eSBsb2dnZWRcbiAgICAgKi9cbiAgICBsb2dnZWQgPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGVycm9yOiBMb2dnZXJNZXNzYWdlLCBsZXZlbDogbnVtYmVyID0gTE9HR0VSX0xFVkVMUy5FUlJPUikge1xuICAgICAgICBzdXBlcihlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IGVycm9yKTtcbiAgICAgICAgdGhpcy5sb2dnZWQgPSBlcnJvciBpbnN0YW5jZW9mIExvZ2dlZEVycm9yICYmIGVycm9yLmxvZ2dlZDtcbiAgICAgICAgaWYgKCF0aGlzLmxvZ2dlZClcbiAgICAgICAgICAgIGdldExvZ2dlcigpLnJlcG9ydChlcnJvciwgbGV2ZWwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBXcmFwcGVyIENsYXNzIGZvciBDcml0aWNhbCBFcnJvcnNcbiAqXG4gKiBAY2xhc3MgQ3JpdGljYWxFcnJvclxuICogQGV4dGVuZHMgTG9nZ2VkRXJyb3JcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBDcml0aWNhbEVycm9yIGV4dGVuZHMgTG9nZ2VkRXJyb3J7XG4gICAgY29uc3RydWN0b3IoZXJyb3I6IExvZ2dlck1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIoZXJyb3IsIExPR0dFUl9MRVZFTFMuQ1JJVElDQUwpO1xuICAgIH1cbn0iXX0=
