"use strict";var __extends=this&&this.__extends||function(){var a=function(l,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,r){l.__proto__=r}||function(l,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(l[o]=r[o])})(l,r)};return function(l,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=l}a(l,r),l.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),logging_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.CriticalError=exports.LoggedError=exports.criticalCallback=exports.errorCallback=exports.warningCallback=exports.infoCallback=exports.debugCallback=exports.allCallback=exports.loggedCallback=void 0,require("../logging"));function loggedCallback(l,r,o){o||(o=r,r=logging_1.LOGGER_LEVELS.INFO),(0,logging_1.getLogger)().report(l instanceof Error?l:new LoggedError(l),r,this&&"loggedCallback"!==this.name?this:void 0),o(l)}function allCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.ALL,r)}function debugCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.DEBUG,r)}function infoCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.INFO,r)}function warningCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.WARN,r)}function errorCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.ERROR,r)}function criticalCallback(l,r){loggedCallback.call(this,l,logging_1.LOGGER_LEVELS.CRITICAL,r)}exports.loggedCallback=loggedCallback,exports.allCallback=allCallback,exports.debugCallback=debugCallback,exports.infoCallback=infoCallback,exports.warningCallback=warningCallback,exports.errorCallback=errorCallback,exports.criticalCallback=criticalCallback;var LoggedError=function(a){function t(l,r){void 0===r&&(r=logging_1.LOGGER_LEVELS.ERROR);var o=a.call(this,l instanceof Error?l.message:l)||this;return o.logged=!1,o.logged=l instanceof t&&l.logged,o.logged||(0,logging_1.getLogger)().report(l,r),o}return __extends(t,a),t}(Error),CriticalError=function(r){function l(l){return r.call(this,l,logging_1.LOGGER_LEVELS.CRITICAL)||this}return __extends(l,r),l}(exports.LoggedError=LoggedError);exports.CriticalError=CriticalError;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVycm9ycy9lcnJvcnMuanMiLCJlcnJvcnMvZXJyb3JzLnRzIl0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsInRoaXMiLCJleHRlbmRTdGF0aWNzIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJBcnJheSIsImQiLCJiIiwiX19wcm90b19fIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIlR5cGVFcnJvciIsIlN0cmluZyIsImNvbnN0cnVjdG9yIiwiY3JlYXRlIiwiX18iLCJsb2dnaW5nXzEiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIkxvZ2dlZEVycm9yIiwiY3JpdGljYWxDYWxsYmFjayIsImVycm9yQ2FsbGJhY2siLCJ3YXJuaW5nQ2FsbGJhY2siLCJpbmZvQ2FsbGJhY2siLCJkZWJ1Z0NhbGxiYWNrIiwiYWxsQ2FsbGJhY2siLCJsb2dnZWRDYWxsYmFjayIsInJlcXVpcmUiLCJtZXNzYWdlIiwibGV2ZWwiLCJjYWxsYmFjayIsIkxPR0dFUl9MRVZFTFMiLCJJTkZPIiwiZ2V0TG9nZ2VyIiwicmVwb3J0IiwiRXJyb3IiLCJuYW1lIiwidW5kZWZpbmVkIiwiQUxMIiwiREVCVUciLCJXQVJOIiwiRVJST1IiLCJDUklUSUNBTCIsIl9zdXBlciIsImVycm9yIiwiX3RoaXMiLCJsb2dnZWQiLCJDcml0aWNhbEVycm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFJQSxVQUFhQyxNQUFRQSxLQUFLRCxXQUFlLFdBQXpDQSxJQUFBQSxFQUFxQixTQUFLQSxFQUFBQSxHQUdqQixPQUZMRSxFQUFnQkMsT0FBQUMsZ0JBQ2hCRixDQUFBQSxVQUFzQixjQUFORyxPQUNYLFNBQUFDLEVBQUFDLEdBQUFELEVBQUFFLFVBQUFELElBQUVDLFNBQVdGLEVBQUFDLEdBQUEsSUFBQSxJQUFBRSxLQUFBRixFQUFBSixPQUFBTyxVQUFBQyxlQUFBQyxLQUFBTCxFQUFBRSxLQUFBSCxFQUFBRyxHQUFBRixFQUFBRSxNQUF5QkgsRUFBQUMsSUFBb0MsT0FDM0UsU0FBQUQsRUFBQUMsR0FBa0IsR0FBaUIsbUJBQWpCQSxHQUFzQ0ksT0FBVkQsRUFGbEQsTUFBQSxJQUFBRyxVQUFBLHVCQUFBQyxPQUFBUCxHQUFBLGlDQUdBLFNBQU9MLElBQWFELEtBQUFjLFlBQXBCVCxFQUtBSixFQUFjSSxFQUFHQyxHQVRyQkQsRUFBQUksVUFBQSxPQUFBSCxFQUFBSixPQUFBYSxPQUFBVCxJQUFBVSxFQUFBUCxVQUFBSCxFQUFBRyxVQUFBLElBQUFPLElBRHlDLEdDRDdDQyxXRFNRZixPQUFBZ0IsZUFBaUJDLFFBQWIsYUFBSixDQUNJQyxPQUFNLElBQ1ZuQixRQUFBQSxjQUFBa0IsUUFBQUUsWUFBQUYsUUFBQUcsaUJBQUFILFFBQUFJLGNBQUFKLFFBQUFLLGdCQUFBTCxRQUFBTSxhQUFBTixRQUFBTyxjQUFBUCxRQUFBUSxZQUFBUixRQUFBUyxvQkFBQSxFQ1hSQyxRQUFBLGVBWUEsU0FBZ0JELGVBQTBCRSxFQUF3QkMsRUFBMEJDLEdBQ25GQSxJQUVEQSxFQUFXRCxFQUNYQSxFQUFRZCxVQUFBZ0IsY0FBY0MsT0FHMUIsRUFBQWpCLFVBQUFrQixhQUFZQyxPQUFPTixhQUFtQk8sTUFBUVAsRUFBVSxJQUFJVCxZQUFZUyxHQUFVQyxFQUFnQi9CLE1BQXNCLG1CQUFkQSxLQUFLc0MsS0FBNEJ0QyxVQUFPdUMsR0FDbEpQLEVBQVNGLEdBWWIsU0FBZ0JILFlBQXVCRyxFQUF3QkUsR0FDM0RKLGVBQWVqQixLQUFLWCxLQUFNOEIsRUFBU2IsVUFBQWdCLGNBQWNPLElBQUtSLEdBWTFELFNBQWdCTixjQUF5QkksRUFBd0JFLEdBQzdESixlQUFlakIsS0FBS1gsS0FBTThCLEVBQVNiLFVBQUFnQixjQUFjUSxNQUFPVCxHQVk1RCxTQUFnQlAsYUFBd0JLLEVBQXdCRSxHQUM1REosZUFBZWpCLEtBQUtYLEtBQU04QixFQUFTYixVQUFBZ0IsY0FBY0MsS0FBTUYsR0FZM0QsU0FBZ0JSLGdCQUEyQk0sRUFBd0JFLEdBQy9ESixlQUFlakIsS0FBS1gsS0FBTThCLEVBQVNiLFVBQUFnQixjQUFjUyxLQUFNVixHQVkzRCxTQUFnQlQsY0FBeUJPLEVBQXdCRSxHQUM3REosZUFBZWpCLEtBQUtYLEtBQU04QixFQUFTYixVQUFBZ0IsY0FBY1UsTUFBT1gsR0FZNUQsU0FBZ0JWLGlCQUE0QlEsRUFBd0JFLEdBQ2hFSixlQUFlakIsS0FBS1gsS0FBTThCLEVBQVNiLFVBQUFnQixjQUFjVyxTQUFVWixHQXRGL0RiLFFBQUFTLGVBQUFBLGVBb0JBVCxRQUFBUSxZQUFBQSxZQWFBUixRQUFBTyxjQUFBQSxjQWFBUCxRQUFBTSxhQUFBQSxhQWFBTixRQUFBSyxnQkFBQUEsZ0JBYUFMLFFBQUFJLGNBQUFBLGNBYUFKLFFBQUFHLGlCQUFBQSxpQkFjQSxJQUFBRCxZQUFBLFNBQUF3QixHQU1JLFNBQUF4QixFQUFZeUIsRUFBc0JmLFFBQUEsSUFBQUEsSUFBQUEsRUFBZ0JkLFVBQUFnQixjQUFjVSxPQUFoRSxJQUFBSSxFQUNJRixFQUFBbEMsS0FBQVgsS0FBTThDLGFBQWlCVCxNQUFRUyxFQUFNaEIsUUFBVWdCLElBQU05QyxLRHpEckQsT0NzREorQyxFQUFBQyxRQUFTLEVBSUxELEVBQUtDLE9BQVNGLGFBQWlCekIsR0FBZXlCLEVBQU1FLE9BQy9DRCxFQUFLQyxTQUNOLEVBQUEvQixVQUFBa0IsYUFBWUMsT0FBT1UsRUFBT2YsR0Q1RHZCZ0IsRUM4RGYsT0FaaUNoRCxVQUFBc0IsRUFBQXdCLEdBWWpDeEIsRUFaQSxDQUFpQ2dCLE9BcUJqQ1ksY0FBQSxTQUFBSixHQUNJLFNBQUFJLEVBQVlILEdEaEVSLE9DaUVBRCxFQUFBbEMsS0FBQVgsS0FBTThDLEVBQU83QixVQUFBZ0IsY0FBY1csV0FBUzVDLEtBRTVDLE9BSm1DRCxVQUFBa0QsRUFBQUosR0FJbkNJLEVBSkEsQ0FyQmE5QixRQUFBRSxZQUFBQSxhQXFCQUYsUUFBQThCLGNBQUFBIiwiZmlsZSI6ImVycm9ycy9lcnJvcnMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgICB9O1xuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG59KSgpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Dcml0aWNhbEVycm9yID0gZXhwb3J0cy5Mb2dnZWRFcnJvciA9IGV4cG9ydHMuY3JpdGljYWxDYWxsYmFjayA9IGV4cG9ydHMuZXJyb3JDYWxsYmFjayA9IGV4cG9ydHMud2FybmluZ0NhbGxiYWNrID0gZXhwb3J0cy5pbmZvQ2FsbGJhY2sgPSBleHBvcnRzLmRlYnVnQ2FsbGJhY2sgPSBleHBvcnRzLmFsbENhbGxiYWNrID0gZXhwb3J0cy5sb2dnZWRDYWxsYmFjayA9IHZvaWQgMDtcbnZhciBsb2dnaW5nXzEgPSByZXF1aXJlKFwiLi4vbG9nZ2luZ1wiKTtcbmZ1bmN0aW9uIGxvZ2dlZENhbGxiYWNrKG1lc3NhZ2UsIGxldmVsLCBjYWxsYmFjaykge1xuICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sgPSBsZXZlbDtcbiAgICAgICAgbGV2ZWwgPSBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5JTkZPO1xuICAgIH1cbiAgICAoMCwgbG9nZ2luZ18xLmdldExvZ2dlcikoKS5yZXBvcnQobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZSA6IG5ldyBMb2dnZWRFcnJvcihtZXNzYWdlKSwgbGV2ZWwsIHRoaXMgJiYgdGhpcy5uYW1lICE9PSBcImxvZ2dlZENhbGxiYWNrXCIgPyB0aGlzIDogdW5kZWZpbmVkKTtcbiAgICBjYWxsYmFjayhtZXNzYWdlKTtcbn1cbmV4cG9ydHMubG9nZ2VkQ2FsbGJhY2sgPSBsb2dnZWRDYWxsYmFjaztcbmZ1bmN0aW9uIGFsbENhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5BTEwsIGNhbGxiYWNrKTtcbn1cbmV4cG9ydHMuYWxsQ2FsbGJhY2sgPSBhbGxDYWxsYmFjaztcbmZ1bmN0aW9uIGRlYnVnQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLkRFQlVHLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmRlYnVnQ2FsbGJhY2sgPSBkZWJ1Z0NhbGxiYWNrO1xuZnVuY3Rpb24gaW5mb0NhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5JTkZPLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmluZm9DYWxsYmFjayA9IGluZm9DYWxsYmFjaztcbmZ1bmN0aW9uIHdhcm5pbmdDYWxsYmFjayhtZXNzYWdlLCBjYWxsYmFjaykge1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuV0FSTiwgY2FsbGJhY2spO1xufVxuZXhwb3J0cy53YXJuaW5nQ2FsbGJhY2sgPSB3YXJuaW5nQ2FsbGJhY2s7XG5mdW5jdGlvbiBlcnJvckNhbGxiYWNrKG1lc3NhZ2UsIGNhbGxiYWNrKSB7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBsb2dnaW5nXzEuTE9HR0VSX0xFVkVMUy5FUlJPUiwgY2FsbGJhY2spO1xufVxuZXhwb3J0cy5lcnJvckNhbGxiYWNrID0gZXJyb3JDYWxsYmFjaztcbmZ1bmN0aW9uIGNyaXRpY2FsQ2FsbGJhY2sobWVzc2FnZSwgY2FsbGJhY2spIHtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIGxvZ2dpbmdfMS5MT0dHRVJfTEVWRUxTLkNSSVRJQ0FMLCBjYWxsYmFjayk7XG59XG5leHBvcnRzLmNyaXRpY2FsQ2FsbGJhY2sgPSBjcml0aWNhbENhbGxiYWNrO1xudmFyIExvZ2dlZEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoTG9nZ2VkRXJyb3IsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTG9nZ2VkRXJyb3IoZXJyb3IsIGxldmVsKSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuRVJST1I7IH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvcikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMubG9nZ2VkID0gZmFsc2U7XG4gICAgICAgIF90aGlzLmxvZ2dlZCA9IGVycm9yIGluc3RhbmNlb2YgTG9nZ2VkRXJyb3IgJiYgZXJyb3IubG9nZ2VkO1xuICAgICAgICBpZiAoIV90aGlzLmxvZ2dlZClcbiAgICAgICAgICAgICgwLCBsb2dnaW5nXzEuZ2V0TG9nZ2VyKSgpLnJlcG9ydChlcnJvciwgbGV2ZWwpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBMb2dnZWRFcnJvcjtcbn0oRXJyb3IpKTtcbmV4cG9ydHMuTG9nZ2VkRXJyb3IgPSBMb2dnZWRFcnJvcjtcbnZhciBDcml0aWNhbEVycm9yID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoQ3JpdGljYWxFcnJvciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDcml0aWNhbEVycm9yKGVycm9yKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBlcnJvciwgbG9nZ2luZ18xLkxPR0dFUl9MRVZFTFMuQ1JJVElDQUwpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBDcml0aWNhbEVycm9yO1xufShMb2dnZWRFcnJvcikpO1xuZXhwb3J0cy5Dcml0aWNhbEVycm9yID0gQ3JpdGljYWxFcnJvcjsiLCJpbXBvcnQge0NhbGxiYWNrLCBnZXRMb2dnZXIsIExPR0dFUl9MRVZFTFMsIExvZ2dlck1lc3NhZ2V9IGZyb20gXCIuLi9sb2dnaW5nXCI7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcGFyYW0ge251bWJlcn0gbGV2ZWxcbiAqIEBwYXJhbSB7Q2FsbGJhY2t9IGNhbGxiYWNrXG4gKlxuICogQGZ1bmN0aW9uIGxvZ2dlZENhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBsb2dnZWRDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGxldmVsOiBudW1iZXIgfCBDYWxsYmFjaywgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBpZiAoIWNhbGxiYWNrKXtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjYWxsYmFjayA9IGxldmVsO1xuICAgICAgICBsZXZlbCA9IExPR0dFUl9MRVZFTFMuSU5GTztcbiAgICB9XG5cbiAgICBnZXRMb2dnZXIoKS5yZXBvcnQobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yID8gbWVzc2FnZSA6IG5ldyBMb2dnZWRFcnJvcihtZXNzYWdlKSwgbGV2ZWwgYXMgbnVtYmVyLHRoaXMgJiYgdGhpcy5uYW1lICE9PSBcImxvZ2dlZENhbGxiYWNrXCIgPyB0aGlzIDogdW5kZWZpbmVkKTtcbiAgICBjYWxsYmFjayhtZXNzYWdlKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBhbGxDYWxsYmFja1xuICpcbiAqIEBtZW1iZXJPZiBkYi1kZWNvcmF0b3JzLmVycm9yc1xuICovXG5leHBvcnQgZnVuY3Rpb24gYWxsQ2FsbGJhY2sodGhpczogYW55LCBtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCBjYWxsYmFjazogQ2FsbGJhY2spe1xuICAgIGxvZ2dlZENhbGxiYWNrLmNhbGwodGhpcywgbWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5BTEwsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBkZWJ1Z0NhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0NhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuREVCVUcsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBpbmZvQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluZm9DYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLklORk8sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiB3YXJuaW5nQ2FsbGJhY2tcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5lcnJvcnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHdhcm5pbmdDYWxsYmFjayh0aGlzOiBhbnksIG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGNhbGxiYWNrOiBDYWxsYmFjayl7XG4gICAgbG9nZ2VkQ2FsbGJhY2suY2FsbCh0aGlzLCBtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLldBUk4sIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBlcnJvckNhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuRVJST1IsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gKiBAcGFyYW0ge0NhbGxiYWNrfSBjYWxsYmFja1xuICpcbiAqIEBmdW5jdGlvbiBjcml0aWNhbENhbGxiYWNrXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMuZXJyb3JzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcml0aWNhbENhbGxiYWNrKHRoaXM6IGFueSwgbWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgY2FsbGJhY2s6IENhbGxiYWNrKXtcbiAgICBsb2dnZWRDYWxsYmFjay5jYWxsKHRoaXMsIG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuQ1JJVElDQUwsIGNhbGxiYWNrKTtcbn1cblxuLyoqXG4gKiBXcmFwcGVyIENsYXNzIGZvciBMb2dnZWQgRXJyb3JzXG4gKlxuICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBlcnJvclxuICogQHBhcmFtIHtudW1iZXJ9IGxldmVsIGRlZmF1bHRzIHRvIHtAbGluayBMT0dHRVJfTEVWRUxTLkVSUk9SfVxuICpcbiAqIEBjbGFzcyBMb2dnZWRFcnJvclxuICogQGV4dGVuZHMgRXJyb3JcbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBMb2dnZWRFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKipcbiAgICAgKiBAcHJvcGVydHkgbG9nZ2VkXG4gICAgICovXG4gICAgbG9nZ2VkID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcihlcnJvcjogTG9nZ2VyTWVzc2FnZSwgbGV2ZWw6IG51bWJlciA9IExPR0dFUl9MRVZFTFMuRVJST1IpIHtcbiAgICAgICAgc3VwZXIoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBlcnJvcik7XG4gICAgICAgIHRoaXMubG9nZ2VkID0gZXJyb3IgaW5zdGFuY2VvZiBMb2dnZWRFcnJvciAmJiBlcnJvci5sb2dnZWQ7XG4gICAgICAgIGlmICghdGhpcy5sb2dnZWQpXG4gICAgICAgICAgICBnZXRMb2dnZXIoKS5yZXBvcnQoZXJyb3IsIGxldmVsKTtcbiAgICB9XG59XG5cbi8qKlxuICogV3JhcHBlciBDbGFzcyBmb3IgQ3JpdGljYWwgRXJyb3JzXG4gKlxuICogQGNsYXNzIENyaXRpY2FsRXJyb3JcbiAqIEBleHRlbmRzIExvZ2dlZEVycm9yXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ3JpdGljYWxFcnJvciBleHRlbmRzIExvZ2dlZEVycm9ye1xuICAgIGNvbnN0cnVjdG9yKGVycm9yOiBMb2dnZXJNZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKGVycm9yLCBMT0dHRVJfTEVWRUxTLkNSSVRJQ0FMKTtcbiAgICB9XG59Il19
