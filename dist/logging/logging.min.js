"use strict";var currentLogger,__spreadArray=this&&this.__spreadArray||function(r,t,e){if(e||2===arguments.length)for(var o,s=0,n=t.length;s<n;s++)!o&&s in t||((o=o||Array.prototype.slice.call(t,0,s))[s]=t[s]);return r.concat(o||Array.prototype.slice.call(t))},constants_1=(Object.defineProperty(exports,"__esModule",{value:!0}),exports.critical=exports.error=exports.warn=exports.debug=exports.all=exports.info=exports.setLogger=exports.getLogger=exports.LoggerImp=void 0,require("./constants")),errors_1=require("../errors"),utils_1=require("./utils"),LoggerImp=function(){function r(r,t,e,o,s){void 0===r&&(r=constants_1.LOGGER_LEVELS.INFO),void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===o&&(o=!1),void 0===s&&(s=constants_1.DEFAULT_TIMESTAMP_FORMAT),this.level=r,this.useTimestamp=t,this.logLevel=e,this.logStackTrace=o,this.timestampFormat=s}return r.prototype.buildMessage=function(r,t,e){void 0===e&&(e=void 0);for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return r instanceof Error&&(r.stack,r=r.message),this.logLevel&&(r="[".concat(Object.keys(constants_1.LOGGER_LEVELS)[t],"] - ").concat(r)),e&&(r="[".concat(e.toString(),"]").concat(r)),this.useTimestamp&&(r="[".concat((0,utils_1.formatDate)(new Date,this.timestampFormat),"]").concat(r)),utils_1.stringFormat.apply(void 0,__spreadArray([r],o,!1))},r.prototype.report=function(r,t){void 0===t&&(t=constants_1.LOGGER_LEVELS.INFO);for(var e,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(!(t<this.level||r instanceof errors_1.LoggedError&&r.logged)){switch(t){case constants_1.LOGGER_LEVELS.WARN:e=console.warn;break;case constants_1.LOGGER_LEVELS.ERROR:case constants_1.LOGGER_LEVELS.CRITICAL:e=console.error;break;case constants_1.LOGGER_LEVELS.INFO:case constants_1.LOGGER_LEVELS.DEBUG:case constants_1.LOGGER_LEVELS.ALL:default:e=console.log}e(this.buildMessage.apply(this,__spreadArray([r,t,void 0],o,!1))),r instanceof Error&&r.stack&&this.logStackTrace&&(console.log(r),e(this.buildMessage("\n-- StackStrace:\n".concat(r.stack),t))),r instanceof errors_1.LoggedError&&(r.logged=!0)}},r.prototype.info=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.INFO],t,!1))},r.prototype.all=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.ALL],t,!1))},r.prototype.debug=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.DEBUG],t,!1))},r.prototype.warn=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.WARN],t,!1))},r.prototype.error=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.ERROR],t,!1))},r.prototype.critical=function(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];this.report.apply(this,__spreadArray([r,constants_1.LOGGER_LEVELS.CRITICAL],t,!1))},r.prototype.setLevel=function(r){this.debug((0,utils_1.stringFormat)(constants_1.LOGGING_MSG.LEVEL_CHANGED,this.level.toString(),r.toString())),this.level=r},r}();function getLogger(){return currentLogger=currentLogger||new LoggerImp}function setLogger(r){currentLogger=r,getLogger().debug(constants_1.LOGGING_MSG.LOGGER_CHANGED)}exports.LoggerImp=LoggerImp,exports.getLogger=getLogger,exports.setLogger=setLogger;var info=function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).info.apply(t,__spreadArray([r],e,!1))},all=(exports.info=info,function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).all.apply(t,__spreadArray([r],e,!1))}),debug=(exports.all=all,function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).debug.apply(t,__spreadArray([r],e,!1))}),warn=(exports.debug=debug,function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).warn.apply(t,__spreadArray([r],e,!1))}),error=(exports.warn=warn,function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).error.apply(t,__spreadArray([r],e,!1))}),critical=(exports.error=error,function(r){for(var t,e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return(t=getLogger()).critical.apply(t,__spreadArray([r],e,!1))});exports.critical=critical;
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2dpbmcvbG9nZ2luZy5qcyIsImxvZ2dpbmcvbG9nZ2luZy50cyJdLCJuYW1lcyI6WyJjdXJyZW50TG9nZ2VyIiwiX19zcHJlYWRBcnJheSIsInRoaXMiLCJ0byIsImZyb20iLCJwYWNrIiwibGVuZ3RoIiwiaSIsImwiLCJhciIsImFyZ3VtZW50cyIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwiY29uY2F0IiwiY29uc3RhbnRzXzEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImNyaXRpY2FsIiwiZXJyb3IiLCJ3YXJuIiwiZGVidWciLCJhbGwiLCJpbmZvIiwic2V0TG9nZ2VyIiwiZ2V0TG9nZ2VyIiwiTG9nZ2VySW1wIiwicmVxdWlyZSIsImVycm9yc18xIiwidXRpbHNfMSIsImRlZmF1bHRMZXZlbCIsInVzZVRpbWVzdGFtcCIsImxvZ0xldmVsIiwibG9nU3RhY2tUcmFjZSIsInRpbWVzdGFtcEZvcm1hdCIsIkxPR0dFUl9MRVZFTFMiLCJJTkZPIiwiREVGQVVMVF9USU1FU1RBTVBfRk9STUFUIiwibGV2ZWwiLCJidWlsZE1lc3NhZ2UiLCJtZXNzYWdlIiwiaXNzdWVyIiwidW5kZWZpbmVkIiwiYXJncyIsIl9pIiwiRXJyb3IiLCJzdGFjayIsImtleXMiLCJ0b1N0cmluZyIsImZvcm1hdERhdGUiLCJEYXRlIiwic3RyaW5nRm9ybWF0IiwiYXBwbHkiLCJyZXBvcnQiLCJyZXBvcnRNZXRob2QiLCJMb2dnZWRFcnJvciIsImxvZ2dlZCIsIldBUk4iLCJjb25zb2xlIiwiRVJST1IiLCJDUklUSUNBTCIsIkRFQlVHIiwiQUxMIiwibG9nIiwic2V0TGV2ZWwiLCJMT0dHSU5HX01TRyIsIkxFVkVMX0NIQU5HRUQiLCJsb2dnZXIiLCJMT0dHRVJfQ0hBTkdFRCIsIl9hIl0sIm1hcHBpbmdzIjoiYUFDQSxJQzROSUEsY0Q1TkFDLGNBQWlCQyxNQUFRQSxLQUFLRCxlQUFrQixTQUFVRSxFQUFJQyxFQUFN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QUFtQixPQUFBeUIsRUFBQTVDLGFBQVlOLE1BQUtpQyxNQUFBaUIsRUFBQXZFLGNBQUEsQ0FBQzBDLEdBQVlHLEdBQUksTUFVL0V6QixVQVZBRixRQUFBRyxNQUFLQSxNQVVNLFNBQUNxQixHQS9FekIsSUFUSTNDLElBQUFBLEVBd0ZzQzhDLEVBQUEsR0FBQUMsRUFBQSxFQUFBQSxFQUFBckMsVUFBQUosT0FBQXlDLElBQUFELEVBQUFDLEVBQUEsR0FBQXJDLFVBQUFxQyxHQUFtQixPQUFBeUIsRUFBQTVDLGFBQVlQLFNBQVFrQyxNQUFBaUIsRUFBQXZFLGNBQUEsQ0FBQzBDLEdBQVlHLEdBQUksTUFBckYzQixRQUFBRSxTQUFRQSIsImZpbGUiOiJsb2dnaW5nL2xvZ2dpbmcubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19zcHJlYWRBcnJheSA9ICh0aGlzICYmIHRoaXMuX19zcHJlYWRBcnJheSkgfHwgZnVuY3Rpb24gKHRvLCBmcm9tLCBwYWNrKSB7XG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgICAgaWYgKCFhcikgYXIgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChmcm9tLCAwLCBpKTtcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNyaXRpY2FsID0gZXhwb3J0cy5lcnJvciA9IGV4cG9ydHMud2FybiA9IGV4cG9ydHMuZGVidWcgPSBleHBvcnRzLmFsbCA9IGV4cG9ydHMuaW5mbyA9IGV4cG9ydHMuc2V0TG9nZ2VyID0gZXhwb3J0cy5nZXRMb2dnZXIgPSBleHBvcnRzLkxvZ2dlckltcCA9IHZvaWQgMDtcbnZhciBjb25zdGFudHNfMSA9IHJlcXVpcmUoXCIuL2NvbnN0YW50c1wiKTtcbnZhciBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG52YXIgdXRpbHNfMSA9IHJlcXVpcmUoXCIuL3V0aWxzXCIpO1xudmFyIExvZ2dlckltcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9nZ2VySW1wKGRlZmF1bHRMZXZlbCwgdXNlVGltZXN0YW1wLCBsb2dMZXZlbCwgbG9nU3RhY2tUcmFjZSwgdGltZXN0YW1wRm9ybWF0KSB7XG4gICAgICAgIGlmIChkZWZhdWx0TGV2ZWwgPT09IHZvaWQgMCkgeyBkZWZhdWx0TGV2ZWwgPSBjb25zdGFudHNfMS5MT0dHRVJfTEVWRUxTLklORk87IH1cbiAgICAgICAgaWYgKHVzZVRpbWVzdGFtcCA9PT0gdm9pZCAwKSB7IHVzZVRpbWVzdGFtcCA9IHRydWU7IH1cbiAgICAgICAgaWYgKGxvZ0xldmVsID09PSB2b2lkIDApIHsgbG9nTGV2ZWwgPSB0cnVlOyB9XG4gICAgICAgIGlmIChsb2dTdGFja1RyYWNlID09PSB2b2lkIDApIHsgbG9nU3RhY2tUcmFjZSA9IGZhbHNlOyB9XG4gICAgICAgIGlmICh0aW1lc3RhbXBGb3JtYXQgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXBGb3JtYXQgPSBjb25zdGFudHNfMS5ERUZBVUxUX1RJTUVTVEFNUF9GT1JNQVQ7IH1cbiAgICAgICAgdGhpcy5sZXZlbCA9IGRlZmF1bHRMZXZlbDtcbiAgICAgICAgdGhpcy51c2VUaW1lc3RhbXAgPSB1c2VUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsb2dMZXZlbDtcbiAgICAgICAgdGhpcy5sb2dTdGFja1RyYWNlID0gbG9nU3RhY2tUcmFjZTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXBGb3JtYXQgPSB0aW1lc3RhbXBGb3JtYXQ7XG4gICAgfVxuICAgIExvZ2dlckltcC5wcm90b3R5cGUuYnVpbGRNZXNzYWdlID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxvZ0xldmVsLCBpc3N1ZXIpIHtcbiAgICAgICAgaWYgKGlzc3VlciA9PT0gdm9pZCAwKSB7IGlzc3VlciA9IHVuZGVmaW5lZDsgfVxuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDNdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RhY2tzVHJhY2UgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgIHN0YWNrc1RyYWNlID0gbWVzc2FnZS5zdGFjaztcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLm1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubG9nTGV2ZWwpXG4gICAgICAgICAgICBtZXNzYWdlID0gXCJbXCIuY29uY2F0KE9iamVjdC5rZXlzKGNvbnN0YW50c18xLkxPR0dFUl9MRVZFTFMpW2xvZ0xldmVsXSwgXCJdIC0gXCIpLmNvbmNhdChtZXNzYWdlKTtcbiAgICAgICAgaWYgKGlzc3VlcilcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIltcIi5jb25jYXQoaXNzdWVyLnRvU3RyaW5nKCksIFwiXVwiKS5jb25jYXQobWVzc2FnZSk7XG4gICAgICAgIGlmICh0aGlzLnVzZVRpbWVzdGFtcClcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBcIltcIi5jb25jYXQoKDAsIHV0aWxzXzEuZm9ybWF0RGF0ZSkobmV3IERhdGUoKSwgdGhpcy50aW1lc3RhbXBGb3JtYXQpLCBcIl1cIikuY29uY2F0KG1lc3NhZ2UpO1xuICAgICAgICByZXR1cm4gdXRpbHNfMS5zdHJpbmdGb3JtYXQuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFttZXNzYWdlXSwgYXJncywgZmFsc2UpKTtcbiAgICB9O1xuICAgIExvZ2dlckltcC5wcm90b3R5cGUucmVwb3J0ID0gZnVuY3Rpb24gKG1lc3NhZ2UsIGxldmVsKSB7XG4gICAgICAgIGlmIChsZXZlbCA9PT0gdm9pZCAwKSB7IGxldmVsID0gY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5JTkZPOyB9XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIGlmIChsZXZlbCA8IHRoaXMubGV2ZWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgZXJyb3JzXzEuTG9nZ2VkRXJyb3IgJiYgbWVzc2FnZS5sb2dnZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHZhciByZXBvcnRNZXRob2Q7XG4gICAgICAgIHN3aXRjaCAobGV2ZWwpIHtcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5XQVJOOlxuICAgICAgICAgICAgICAgIHJlcG9ydE1ldGhvZCA9IGNvbnNvbGUud2FybjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5FUlJPUjpcbiAgICAgICAgICAgIGNhc2UgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5DUklUSUNBTDpcbiAgICAgICAgICAgICAgICByZXBvcnRNZXRob2QgPSBjb25zb2xlLmVycm9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBjb25zdGFudHNfMS5MT0dHRVJfTEVWRUxTLklORk86XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkxPR0dFUl9MRVZFTFMuREVCVUc6XG4gICAgICAgICAgICBjYXNlIGNvbnN0YW50c18xLkxPR0dFUl9MRVZFTFMuQUxMOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXBvcnRNZXRob2QgPSBjb25zb2xlLmxvZztcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgZmluYWxNZXNzYWdlID0gdGhpcy5idWlsZE1lc3NhZ2UuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbbWVzc2FnZSwgbGV2ZWwsIHVuZGVmaW5lZF0sIGFyZ3MsIGZhbHNlKSk7XG4gICAgICAgIHJlcG9ydE1ldGhvZChmaW5hbE1lc3NhZ2UpO1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yICYmIG1lc3NhZ2Uuc3RhY2sgJiYgdGhpcy5sb2dTdGFja1RyYWNlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgICAgICAgICAgIHJlcG9ydE1ldGhvZCh0aGlzLmJ1aWxkTWVzc2FnZShcIlxcbi0tIFN0YWNrU3RyYWNlOlxcblwiLmNvbmNhdChtZXNzYWdlLnN0YWNrKSwgbGV2ZWwpKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIGVycm9yc18xLkxvZ2dlZEVycm9yKVxuICAgICAgICAgICAgbWVzc2FnZS5sb2dnZWQgPSB0cnVlO1xuICAgIH07XG4gICAgTG9nZ2VySW1wLnByb3RvdHlwZS5pbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBvcnQuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbbWVzc2FnZSwgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5JTkZPXSwgYXJncywgZmFsc2UpKTtcbiAgICB9O1xuICAgIExvZ2dlckltcC5wcm90b3R5cGUuYWxsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBvcnQuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbbWVzc2FnZSwgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5BTExdLCBhcmdzLCBmYWxzZSkpO1xuICAgIH07XG4gICAgTG9nZ2VySW1wLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVwb3J0LmFwcGx5KHRoaXMsIF9fc3ByZWFkQXJyYXkoW21lc3NhZ2UsIGNvbnN0YW50c18xLkxPR0dFUl9MRVZFTFMuREVCVUddLCBhcmdzLCBmYWxzZSkpO1xuICAgIH07XG4gICAgTG9nZ2VySW1wLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZXBvcnQuYXBwbHkodGhpcywgX19zcHJlYWRBcnJheShbbWVzc2FnZSwgY29uc3RhbnRzXzEuTE9HR0VSX0xFVkVMUy5XQVJOXSwgYXJncywgZmFsc2UpKTtcbiAgICB9O1xuICAgIExvZ2dlckltcC5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcG9ydC5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5KFttZXNzYWdlLCBjb25zdGFudHNfMS5MT0dHRVJfTEVWRUxTLkVSUk9SXSwgYXJncywgZmFsc2UpKTtcbiAgICB9O1xuICAgIExvZ2dlckltcC5wcm90b3R5cGUuY3JpdGljYWwgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcG9ydC5hcHBseSh0aGlzLCBfX3NwcmVhZEFycmF5KFttZXNzYWdlLCBjb25zdGFudHNfMS5MT0dHRVJfTEVWRUxTLkNSSVRJQ0FMXSwgYXJncywgZmFsc2UpKTtcbiAgICB9O1xuICAgIExvZ2dlckltcC5wcm90b3R5cGUuc2V0TGV2ZWwgPSBmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgdGhpcy5kZWJ1ZygoMCwgdXRpbHNfMS5zdHJpbmdGb3JtYXQpKGNvbnN0YW50c18xLkxPR0dJTkdfTVNHLkxFVkVMX0NIQU5HRUQsIHRoaXMubGV2ZWwudG9TdHJpbmcoKSwgbGV2ZWwudG9TdHJpbmcoKSkpO1xuICAgICAgICB0aGlzLmxldmVsID0gbGV2ZWw7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nZ2VySW1wO1xufSgpKTtcbmV4cG9ydHMuTG9nZ2VySW1wID0gTG9nZ2VySW1wO1xudmFyIGN1cnJlbnRMb2dnZXI7XG5mdW5jdGlvbiBnZXRMb2dnZXIoKSB7XG4gICAgaWYgKCFjdXJyZW50TG9nZ2VyKVxuICAgICAgICBjdXJyZW50TG9nZ2VyID0gbmV3IExvZ2dlckltcCgpO1xuICAgIHJldHVybiBjdXJyZW50TG9nZ2VyO1xufVxuZXhwb3J0cy5nZXRMb2dnZXIgPSBnZXRMb2dnZXI7XG5mdW5jdGlvbiBzZXRMb2dnZXIobG9nZ2VyKSB7XG4gICAgY3VycmVudExvZ2dlciA9IGxvZ2dlcjtcbiAgICBnZXRMb2dnZXIoKS5kZWJ1Zyhjb25zdGFudHNfMS5MT0dHSU5HX01TRy5MT0dHRVJfQ0hBTkdFRCk7XG59XG5leHBvcnRzLnNldExvZ2dlciA9IHNldExvZ2dlcjtcbnZhciBpbmZvID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gKF9hID0gZ2V0TG9nZ2VyKCkpLmluZm8uYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW21lc3NhZ2VdLCBhcmdzLCBmYWxzZSkpO1xufTtcbmV4cG9ydHMuaW5mbyA9IGluZm87XG52YXIgYWxsID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gKF9hID0gZ2V0TG9nZ2VyKCkpLmFsbC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbbWVzc2FnZV0sIGFyZ3MsIGZhbHNlKSk7XG59O1xuZXhwb3J0cy5hbGwgPSBhbGw7XG52YXIgZGVidWcgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiAoX2EgPSBnZXRMb2dnZXIoKSkuZGVidWcuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW21lc3NhZ2VdLCBhcmdzLCBmYWxzZSkpO1xufTtcbmV4cG9ydHMuZGVidWcgPSBkZWJ1ZztcbnZhciB3YXJuID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gKF9hID0gZ2V0TG9nZ2VyKCkpLndhcm4uYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW21lc3NhZ2VdLCBhcmdzLCBmYWxzZSkpO1xufTtcbmV4cG9ydHMud2FybiA9IHdhcm47XG52YXIgZXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgYXJncyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMTsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIGFyZ3NbX2kgLSAxXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHJldHVybiAoX2EgPSBnZXRMb2dnZXIoKSkuZXJyb3IuYXBwbHkoX2EsIF9fc3ByZWFkQXJyYXkoW21lc3NhZ2VdLCBhcmdzLCBmYWxzZSkpO1xufTtcbmV4cG9ydHMuZXJyb3IgPSBlcnJvcjtcbnZhciBjcml0aWNhbCA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIChfYSA9IGdldExvZ2dlcigpKS5jcml0aWNhbC5hcHBseShfYSwgX19zcHJlYWRBcnJheShbbWVzc2FnZV0sIGFyZ3MsIGZhbHNlKSk7XG59O1xuZXhwb3J0cy5jcml0aWNhbCA9IGNyaXRpY2FsOyIsImltcG9ydCB7REVGQVVMVF9USU1FU1RBTVBfRk9STUFULCBMT0dHRVJfTEVWRUxTLCBMT0dHSU5HX01TR30gZnJvbSBcIi4vY29uc3RhbnRzXCI7XG5pbXBvcnQge0xvZ2dlZEVycm9yfSBmcm9tIFwiLi4vZXJyb3JzXCI7XG5pbXBvcnQge2Zvcm1hdERhdGUsIHN0cmluZ0Zvcm1hdH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuLyoqXG4gKiBAdHlwZWRlZiBMb2dnZXJNZXNzYWdlXG4gKiBAbWVtYmVyT2YgbG9nZ2luZy5sb2dnaW5nXG4gKi9cbmV4cG9ydCB0eXBlIExvZ2dlck1lc3NhZ2UgPSBFcnJvciB8IHN0cmluZztcblxuLyoqXG4gKiBAaW50ZXJmYWNlIExvZ2dlclxuICogQG1lbWJlck9mIGxvZ2dpbmcubG9nZ2luZ1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExvZ2dlciB7XG4gICAgLyoqXG4gICAgICogUmVwb3J0cyBhIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGV2ZWxcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBbYXJnc11cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBMb2dnZXJcbiAgICAgKi9cbiAgICByZXBvcnQobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgbGV2ZWw6IG51bWJlciwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBMb2dnZXIjcmVwb3J0fXMgYSBtZXNzYWdlIHVuZGVyIHtAbGluayBMT0dHRVJfTEVWRUxTLkFMTH1cbiAgICAgKiBAcGFyYW0ge0xvZ2dlck1lc3NhZ2V9IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge2FueVtdfSBbYXJnc11cbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBMb2dnZXJcbiAgICAgKi9cbiAgICBhbGwobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBMb2dnZXIjcmVwb3J0fXMgYSBtZXNzYWdlIHVuZGVyIHtAbGluayBMT0dHRVJfTEVWRUxTLklORk99XG4gICAgICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHthbnlbXX0gW2FyZ3NdXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgTG9nZ2VyXG4gICAgICovXG4gICAgaW5mbyhtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICoge0BsaW5rIExvZ2dlciNyZXBvcnR9cyBhIG1lc3NhZ2UgdW5kZXIge0BsaW5rIExPR0dFUl9MRVZFTFMuREVCVUd9XG4gICAgICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHthbnlbXX0gW2FyZ3NdXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgTG9nZ2VyXG4gICAgICovXG4gICAgZGVidWcobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBMb2dnZXIjcmVwb3J0fXMgYSBtZXNzYWdlIHVuZGVyIHtAbGluayBMT0dHRVJfTEVWRUxTLldBUk59XG4gICAgICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHthbnlbXX0gW2FyZ3NdXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgTG9nZ2VyXG4gICAgICovXG4gICAgd2FybihtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgLyoqXG4gICAgICoge0BsaW5rIExvZ2dlciNyZXBvcnR9cyBhIG1lc3NhZ2UgdW5kZXIge0BsaW5rIExPR0dFUl9MRVZFTFMuRVJST1J9XG4gICAgICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHthbnlbXX0gW2FyZ3NdXG4gICAgICpcbiAgICAgKiBAbWVtYmVyT2YgTG9nZ2VyXG4gICAgICovXG4gICAgZXJyb3IobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgLi4uYXJnczogYW55W10pOiB2b2lkO1xuICAgIC8qKlxuICAgICAqIHtAbGluayBMb2dnZXIjcmVwb3J0fXMgYSBtZXNzYWdlIHVuZGVyIHtAbGluayBMT0dHRVJfTEVWRUxTLkNSSVRJQ0FMfVxuICAgICAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7YW55W119IFthcmdzXVxuICAgICAqXG4gICAgICogQG1lbWJlck9mIExvZ2dlclxuICAgICAqL1xuICAgIGNyaXRpY2FsKG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIC4uLmFyZ3M6IGFueVtdKTogdm9pZDtcbiAgICAvKipcbiAgICAgKiBEZWZpbmVzIHRoZSBMb2dnZXIgbGV2ZWxcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbFxuICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAgICAgKlxuICAgICAqIEBtZW1iZXJPZiBMb2dnZXJcbiAgICAgKi9cbiAgICBzZXRMZXZlbChsZXZlbDogbnVtYmVyLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG59XG5cbi8qKlxuICogRGVmYXVsdCBMb2dnZXIgSW1wbGVtZW50YXRpb25cbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gZGVmYXVsdExldmVsIGRlZmF1bHRzIHRvIHtAbGluayBMT0dHRVJfTEVWRUxTLklORk99XG4gKiBAcGFyYW0ge2Jvb2xlYW59IHVzZVRpbWVzdGFtcCBkZWZhdWx0cyB0byB0cnVlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxvZ0xldmVsXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGxvZ1N0YWNrVHJhY2VcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aW1lc3RhbXBGb3JtYXRcbiAqXG4gKiBAY2xhc3MgTG9nZ2VySW1wXG4gKiBAaW1wbGVtZW50cyBMb2dnZXJcbiAqL1xuZXhwb3J0IGNsYXNzIExvZ2dlckltcCBpbXBsZW1lbnRzIExvZ2dlciB7XG4gICAgcHJpdmF0ZSBsZXZlbDogbnVtYmVyO1xuXG4gICAgcHJpdmF0ZSByZWFkb25seSB1c2VUaW1lc3RhbXA6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSByZWFkb25seSBsb2dMZXZlbDogYm9vbGVhbjtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHRpbWVzdGFtcEZvcm1hdDogc3RyaW5nO1xuICAgIHByaXZhdGUgcmVhZG9ubHkgbG9nU3RhY2tUcmFjZTogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGRlZmF1bHRMZXZlbDogbnVtYmVyID0gTE9HR0VSX0xFVkVMUy5JTkZPLCB1c2VUaW1lc3RhbXAgPSB0cnVlLCBsb2dMZXZlbDogYm9vbGVhbiA9IHRydWUsIGxvZ1N0YWNrVHJhY2U6IGJvb2xlYW4gPSBmYWxzZSwgdGltZXN0YW1wRm9ybWF0ID0gREVGQVVMVF9USU1FU1RBTVBfRk9STUFUKXtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGRlZmF1bHRMZXZlbDtcbiAgICAgICAgdGhpcy51c2VUaW1lc3RhbXAgPSB1c2VUaW1lc3RhbXA7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBsb2dMZXZlbDtcbiAgICAgICAgdGhpcy5sb2dTdGFja1RyYWNlID0gbG9nU3RhY2tUcmFjZTtcbiAgICAgICAgdGhpcy50aW1lc3RhbXBGb3JtYXQgPSB0aW1lc3RhbXBGb3JtYXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnVpbHRzIHRoZSBhY3R1YWwgbG9nZ2luZyBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtMb2dnZXJNZXNzYWdlfSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxvZ0xldmVsIGlmIHRoZSBsZXZlbCBpcyB0byBiZSBsb2dnZWRcbiAgICAgKiBAcGFyYW0ge2FueX0gaXNzdWVyIHdobyBpcyBsb2dnaW5nIHRoZSBtZXNzYWdlXG4gICAgICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICAgICAqIEBwcm90ZWN0ZWRcbiAgICAgKi9cbiAgICBwcm90ZWN0ZWQgYnVpbGRNZXNzYWdlKG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIGxvZ0xldmVsOiBudW1iZXIsIGlzc3VlcjogYW55ID0gdW5kZWZpbmVkLCAuLi5hcmdzOiBhbnlbXSl7XG4gICAgICAgIGxldCBzdGFja3NUcmFjZTogc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yKXtcbiAgICAgICAgICAgIHN0YWNrc1RyYWNlID0gbWVzc2FnZS5zdGFjaztcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLm1lc3NhZ2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbClcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgWyR7T2JqZWN0LmtleXMoTE9HR0VSX0xFVkVMUylbbG9nTGV2ZWxdfV0gLSAke21lc3NhZ2V9YDtcbiAgICAgICAgaWYgKGlzc3VlcilcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgWyR7aXNzdWVyLnRvU3RyaW5nKCl9XSR7bWVzc2FnZX1gO1xuICAgICAgICBpZiAodGhpcy51c2VUaW1lc3RhbXApXG4gICAgICAgICAgICBtZXNzYWdlID0gYFske2Zvcm1hdERhdGUobmV3IERhdGUoKSwgdGhpcy50aW1lc3RhbXBGb3JtYXQpfV0ke21lc3NhZ2V9YDtcbiAgICAgICAgcmV0dXJuIHN0cmluZ0Zvcm1hdChtZXNzYWdlLCAuLi5hcmdzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7TG9nZ2VyTWVzc2FnZX0gbWVzc2FnZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsZXZlbCBkZWZhdWx0cyB0byB7QGxpbmsgTE9HR0VSX0xFVkVMUy5JTkZPfVxuICAgICAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAgICAgKi9cbiAgICByZXBvcnQobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgbGV2ZWw6IG51bWJlciA9IExPR0dFUl9MRVZFTFMuSU5GTywgLi4uYXJnczogYW55W10pIDogdm9pZCB7XG4gICAgICAgIGlmIChsZXZlbCA8IHRoaXMubGV2ZWwpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgTG9nZ2VkRXJyb3IgJiYgbWVzc2FnZS5sb2dnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgbGV0IHJlcG9ydE1ldGhvZDogRnVuY3Rpb247XG4gICAgICAgIHN3aXRjaCAobGV2ZWwpe1xuICAgICAgICAgICAgY2FzZSBMT0dHRVJfTEVWRUxTLldBUk46XG4gICAgICAgICAgICAgICAgcmVwb3J0TWV0aG9kID0gY29uc29sZS53YXJuO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBMT0dHRVJfTEVWRUxTLkVSUk9SOlxuICAgICAgICAgICAgY2FzZSBMT0dHRVJfTEVWRUxTLkNSSVRJQ0FMOlxuICAgICAgICAgICAgICAgIHJlcG9ydE1ldGhvZCA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIExPR0dFUl9MRVZFTFMuSU5GTzpcbiAgICAgICAgICAgIGNhc2UgTE9HR0VSX0xFVkVMUy5ERUJVRzpcbiAgICAgICAgICAgIGNhc2UgTE9HR0VSX0xFVkVMUy5BTEw6XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJlcG9ydE1ldGhvZCA9IGNvbnNvbGUubG9nO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZpbmFsTWVzc2FnZSA9IHRoaXMuYnVpbGRNZXNzYWdlKG1lc3NhZ2UsIGxldmVsLCB1bmRlZmluZWQsIC4uLmFyZ3MpO1xuICAgICAgICByZXBvcnRNZXRob2QoZmluYWxNZXNzYWdlKTtcblxuICAgICAgICBpZiAobWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yICYmIG1lc3NhZ2Uuc3RhY2sgJiYgdGhpcy5sb2dTdGFja1RyYWNlKXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xuICAgICAgICAgICAgcmVwb3J0TWV0aG9kKHRoaXMuYnVpbGRNZXNzYWdlKGBcXG4tLSBTdGFja1N0cmFjZTpcXG4ke21lc3NhZ2Uuc3RhY2t9YCwgbGV2ZWwpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgTG9nZ2VkRXJyb3IpXG4gICAgICAgICAgICBtZXNzYWdlLmxvZ2dlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBpbmZvKG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuSU5GTywgLi4uYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgYWxsKG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuQUxMLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICBkZWJ1ZyhtZXNzYWdlOiBMb2dnZXJNZXNzYWdlLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQge1xuICAgICAgICB0aGlzLnJlcG9ydChtZXNzYWdlLCBMT0dHRVJfTEVWRUxTLkRFQlVHLCAuLi5hcmdzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGluaGVyaXREb2NcbiAgICAgKi9cbiAgICB3YXJuKG1lc3NhZ2U6IExvZ2dlck1lc3NhZ2UsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVwb3J0KG1lc3NhZ2UsIExPR0dFUl9MRVZFTFMuV0FSTiwgLi4uYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgZXJyb3IobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXBvcnQobWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5FUlJPUiwgLi4uYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgY3JpdGljYWwobWVzc2FnZTogTG9nZ2VyTWVzc2FnZSwgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXBvcnQobWVzc2FnZSwgTE9HR0VSX0xFVkVMUy5DUklUSUNBTCwgLi4uYXJncyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbmhlcml0RG9jXG4gICAgICovXG4gICAgc2V0TGV2ZWwobGV2ZWw6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmRlYnVnKHN0cmluZ0Zvcm1hdChMT0dHSU5HX01TRy5MRVZFTF9DSEFOR0VELCB0aGlzLmxldmVsLnRvU3RyaW5nKCksIGxldmVsLnRvU3RyaW5nKCkpKTtcbiAgICAgICAgdGhpcy5sZXZlbCA9IGxldmVsO1xuICAgIH1cbn1cblxubGV0IGN1cnJlbnRMb2dnZXI6IExvZ2dlcjtcblxuLyoqXG4gKiBnZXRzIHRoZSBjdXJyZW50IExvZ2dlclxuICpcbiAqIEBmdW5jdGlvbiBnZXRMb2dnZXJcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5sb2dnaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMb2dnZXIoKXtcbiAgICBpZiAoIWN1cnJlbnRMb2dnZXIpXG4gICAgICAgIGN1cnJlbnRMb2dnZXIgPSBuZXcgTG9nZ2VySW1wKCk7XG4gICAgcmV0dXJuIGN1cnJlbnRMb2dnZXI7XG59XG5cbi8qKlxuICogU2V0cyB0aGUgbG9nZ2VyXG4gKlxuICogQHBhcmFtIHtMb2dnZXJ9IGxvZ2dlclxuICpcbiAqIEBmdW5jdGlvbiBzZXRMb2dnZXJcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5sb2dnaW5nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRMb2dnZXIobG9nZ2VyOiBMb2dnZXIpe1xuICAgIGN1cnJlbnRMb2dnZXIgPSBsb2dnZXI7XG4gICAgZ2V0TG9nZ2VyKCkuZGVidWcoTE9HR0lOR19NU0cuTE9HR0VSX0NIQU5HRUQpO1xufVxuXG4vKipcbiAqIFJlcG9ydHMgYSBtZXNzYWdlIHRvIHRoZSBsb2dnZXIgdW5kZXIgdGhlIGxldmVsIHtAbGluayBMT0dHRVJfTEVWRUxTLklORk99XG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICpcbiAqIEBmdW5jdGlvbiBpbmZvXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMubG9nZ2luZ1xuICovXG5leHBvcnQgY29uc3QgaW5mbyA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiBnZXRMb2dnZXIoKS5pbmZvKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuLyoqXG4gKiBSZXBvcnRzIGEgbWVzc2FnZSB0byB0aGUgbG9nZ2VyIHVuZGVyIHRoZSBsZXZlbCB7QGxpbmsgTE9HR0VSX0xFVkVMUy5BTEx9XG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICpcbiAqIEBmdW5jdGlvbiBhbGxcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5sb2dnaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBhbGwgPSAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gZ2V0TG9nZ2VyKCkuYWxsKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuLyoqXG4gKiBSZXBvcnRzIGEgbWVzc2FnZSB0byB0aGUgbG9nZ2VyIHVuZGVyIHRoZSBsZXZlbCB7QGxpbmsgTE9HR0VSX0xFVkVMUy5ERUJVR31cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKlxuICogQGZ1bmN0aW9uIGRlYnVnXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMubG9nZ2luZ1xuICovXG5leHBvcnQgY29uc3QgZGVidWcgPSAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gZ2V0TG9nZ2VyKCkuZGVidWcobWVzc2FnZSwgLi4uYXJncyk7XG4vKipcbiAqIFJlcG9ydHMgYSBtZXNzYWdlIHRvIHRoZSBsb2dnZXIgdW5kZXIgdGhlIGxldmVsIHtAbGluayBMT0dHRVJfTEVWRUxTLldBUk59XG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZVxuICogQHBhcmFtIHthbnlbXX0gYXJnc1xuICpcbiAqIEBmdW5jdGlvbiB3YXJuXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMubG9nZ2luZ1xuICovXG5leHBvcnQgY29uc3Qgd2FybiA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiBnZXRMb2dnZXIoKS53YXJuKG1lc3NhZ2UsIC4uLmFyZ3MpO1xuLyoqXG4gKiBSZXBvcnRzIGEgbWVzc2FnZSB0byB0aGUgbG9nZ2VyIHVuZGVyIHRoZSBsZXZlbCB7QGxpbmsgTE9HR0VSX0xFVkVMUy5FUlJPUn1cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlXG4gKiBAcGFyYW0ge2FueVtdfSBhcmdzXG4gKlxuICogQGZ1bmN0aW9uIGVycm9yXG4gKlxuICogQG1lbWJlck9mIGRiLWRlY29yYXRvcnMubG9nZ2luZ1xuICovXG5leHBvcnQgY29uc3QgZXJyb3IgPSAobWVzc2FnZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSkgPT4gZ2V0TG9nZ2VyKCkuZXJyb3IobWVzc2FnZSwgLi4uYXJncyk7XG4vKipcbiAqIFJlcG9ydHMgYSBtZXNzYWdlIHRvIHRoZSBsb2dnZXIgdW5kZXIgdGhlIGxldmVsIHtAbGluayBMT0dHRVJfTEVWRUxTLkNSSVRJQ0FMfVxuICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2VcbiAqIEBwYXJhbSB7YW55W119IGFyZ3NcbiAqXG4gKiBAZnVuY3Rpb24gY3JpdGljYWxcbiAqXG4gKiBAbWVtYmVyT2YgZGItZGVjb3JhdG9ycy5sb2dnaW5nXG4gKi9cbmV4cG9ydCBjb25zdCBjcml0aWNhbCA9IChtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKSA9PiBnZXRMb2dnZXIoKS5jcml0aWNhbChtZXNzYWdlLCAuLi5hcmdzKTsiXX0=
